---
name: memory
description: 查询和管理跨会话记忆。当需要回顾之前的工作、查看待办清单、检索历史会话时使用。
---

# 记忆查询 Skill

> 查询和管理跨会话记忆

## 触发场景
- 用户说 "回忆" / "记忆" / "查询记忆"
- 用户说 "之前做了什么" / "昨天做了什么"
- 用户说 "看看待办" / "待办清单"
- 用户说 "/memory"

## 记忆来源

### 1. 每日总结
```
~/.claude/daily-summaries/YYYY-MM-DD.md
```
- 按日期倒序读取最近 3-5 天
- 提取关键信息

### 2. 待办清单
```
~/.claude/todos.md
```
- 读取完整待办状态
- 展示进行中和待完成项

### 3. 草稿文件
```
~/.claude/drafts/*.md
```
- 列出已有草稿
- 展示草稿状态

### 4. 会话历史
```
~/.claude/projects/
```
- 仅在需要时搜索
- 按关键词检索

## 工作流程

### 查询记忆时
1. 读取最近的每日总结（1-3天）
2. 读取当前待办清单
3. 列出草稿文件
4. 汇总展示给用户

### 查看待办时
1. 读取 `~/.claude/todos.md`
2. 按优先级展示（紧急 > 进行中 > 待完成）
3. 同步到会话内 TodoWrite

### 添加待办时
1. 更新 `~/.claude/todos.md`
2. 更新会话内 TodoWrite
3. 确认添加成功

### 更新待办时
1. 修改 `~/.claude/todos.md` 中的状态
2. 同步会话内 TodoWrite
3. 如果完成，移动到已完成区域

## 输出格式

### 记忆查询
```
## 📅 最近记忆

### 昨天 (MM-DD)
- 完成了 xxx
- 进行中 xxx

### 前天 (MM-DD)
- ...

---

## 📋 当前待办
[展示待办清单]

---

## 📝 草稿状态
[列出草稿文件]
```

### 待办查询
```
## 📋 待办清单

### 🔥 紧急
- [ ] xxx

### 进行中
- [ ] xxx

### 待完成
- [ ] xxx

---
*来自 ~/.claude/todos.md*
```
